<p>From the beginning, we leaned in choice of segmentation model
towards UNets, as a <b>UNet</b>-based approach had led to the best 
result for seagrass bed segmentation reported in literature 
 <a href="#Unetpaper">[15]</a>.</p> 
<p>Fixed-size inputs are also required for a number
of other machine learning strategies that perform segmentation
or pixel-level classification.</p> 
<p>We therefore decided to create 
a dataset of fixed size images to maximize the number of 
different machine learning approaches we can try.</p>
<p>We chose a 
standard image size of <b>256 times 256 pixels</b> - a size that is 
frequently encountered in literature. Moreover, we wanted to 
make use of the high spatial resolution of the Sentinel-2 
mission, and aimed to download images with a resolution of 
<b>10 m x 10 m per pixel</b>. This “high” resolution can complicate 
Sentinel-2 image download as not all satellite bands have such
a high resolution. We therefore decided to download 
Sentinel-2 images through the <strong>GEE</strong> (Google Earth Engine) 
package for python, where a systematic framework on how to download low resolution bands to a higher resolution is automatically provided. 
The geemap python library does the resampling using the nearest neighbor method to interpolate from lower to higher resolution bands. And the code for downloading the images from GEE is <a href="https://dagshub.com/Omdena/TriesteItalyChapter_MappingSeagrassMeadows/src/main/final_pipeline_code/download-Greece-batch-images-masks.ipynb">here</a>. 
Even though there are methods on how to reliably interpolate a higher 
resolution for lower resolution bands 
(e.g. the Sen2Res plugin for SNAP)<a href="#Nicolas17">[9]</a>,
we did not use them due to computational and time constraints.
Instead, we used the images as provided by the google earth 
engine for further processing.</p> 
<p>Out of the <b>13 bands</b> in the Sentinel-2
images, we downloaded the images with the following 12 bands :  <b>B1, B2, B3, B4, B5, B6, B7, B8, B8A,
B9, B11, B12.</b> </p>
<p>Next, we divided the marine areas of Greece and 
Croatia into a regular grid of <b>2560 x 2560 m squares </b> (to 
obtain images of 256 pixels x 256 pixels with a 10 m 
resolution).</p> 
<p>Initially, we thought about more sophisticated
methods to define regions of interests. For example, we 
thought about drawing regular rectangles around a seagrass 
bed polygon’s center. However, in general pixels of seagrass
beds made up a small percentage of total water pixels of any 
image of 2560 m x 2560 m for both Greece and Croatia. Just
dividing these two marine areas by a regular grid yielded the 
highest number of images where <b>at least 5%</b> of the water pixels
would belong to seagrass bed areas. On the flipside, using a 
regular grid also led to some images having no seagrass beds 
in them at all. We decided that taking a single image per site
could potentially introduce errors. There is the option when 
downloading Sentinel-2 images through google earth engine to 
take average images for a given time period. However, we were 
unsure about which biases this may introduce and if training a 
machine learning algorithm on a low-variance dataset may 
reduce the predictive power of the model. Therefore, we settled on 
taking two images (recorded on different days) per site. </p>
<p>During our 
preliminary research, we had learned that all species of seagrass
exhibit seasonal variance in their color (cfr. e.g. <a href="#Sandoval22">[6]</a>). Thus, we
anticipated that it would be better to narrow down the time 
period in which to take a set of duplicate images. Since we 
could not find information in the literature which time of the
year would be best, we decided for two seasons - <strong>summer 
(date range: 2022-06-15 to 2022-08-15) and winter (date range: 2022-12-15 to 2023-02-15)</strong> 
from the image collection <strong>COPERNICUS/S2_SR_HARMONIZED</strong>. This Sentinel-2 product 
allows for easy filtering for clouds in order to get cloud free images for further
processing.</p> 
<p>We then used a <b>standardized python protocol</b> to download Sentinel-2
images of interest for the given time periods through the <b>Google Earth Engine API.</b>
Download was performed through the accounts of several users involving more than a 
dozen collaborators. Participants would then use standardized python protocols - 
mainly based on the python library Rasterio - to create masks for land, 
water, and seagrass directly based on the open-source GT data from <b>Greece and Croatia</b>,
as well as <b>land masks</b> based on the <b>OpenStreetMap project</b> (downloaded in February 2024).
This resulted in two data sets of raw Sentinel-2 images and corresponding masks - 
one for winter months and one for summer months. In total, this resulted in <b>16000 
images</b> (approximate) from both the regions.</p>








